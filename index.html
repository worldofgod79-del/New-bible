<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WORLD OF GOD Bible</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

<header>
    <div class="header-left">
        <button class="icon-btn" onclick="toggleSidebar()"><span class="material-icons-outlined">menu</span></button>
    </div>
    <h1 onclick="showHome()" style="cursor: pointer; color: white;">WORLD OF GOD Bible</h1>
    <div class="header-right">
        <button class="icon-btn" onclick="toggleSettingsModal()"><span class="material-icons-outlined">settings</span></button>
    </div>
</header>

<div class="sidebar-overlay" id="sidebar-overlay" onclick="toggleSidebar()"></div>
<aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h2>పుస్తకాలు</h2>
        <button class="close-btn" onclick="toggleSidebar()"><span class="material-icons-outlined">close</span></button>
    </div>
    <div class="sidebar-content" id="sidebar-books"></div>
</aside>

<div class="search-modal" id="settings-modal">
    <div class="search-modal-content" style="max-width: 320px;">
        <div class="modal-header">
            <h2>సెట్టింగ్స్ (Options)</h2>
            <button class="close-btn" onclick="toggleSettingsModal()"><span class="material-icons-outlined">close</span></button>
        </div>
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <button class="menu-book-btn" onclick="toggleSettingsModal(); toggleSearch();" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined">search</span> వెతుకులాట (Search)</button>
            <button class="menu-book-btn" onclick="toggleSettingsModal(); toggleParallelBible();" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined" id="parallel-icon">language</span> ఇంగ్లీష్ బైబిల్ (KJV)</button>
            <button class="menu-book-btn" onclick="toggleSettingsModal(); showNotesView(true);" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined">edit_note</span> నా నోట్స్ (Notes)</button>
            <button class="menu-book-btn" onclick="toggleSettingsModal(); showBookmarksView(true);" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined">bookmarks</span> బుక్‌మార్క్స్</button>
            <button class="menu-book-btn" onclick="toggleSettingsModal(); showHistoryView(true);" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined">history</span> చరిత్ర (History)</button>
            <button class="menu-book-btn" onclick="toggleSettingsModal(); toggleDarkMode();" style="display: flex; align-items: center; gap: 10px; font-size: 18px;"><span class="material-icons-outlined" id="theme-icon">dark_mode</span> డార్క్ మోడ్ (Theme)</button>
        </div>
    </div>
</div>

<div class="search-modal" id="search-modal">
    <div class="search-modal-content">
        <div class="modal-header">
            <h2>వెతుకులాట</h2>
            <button class="close-btn" onclick="toggleSearch()"><span class="material-icons-outlined">close</span></button>
        </div>
        <div class="search-group">
            <label>ఎక్కడ వెతకాలి?</label>
            <select id="search-scope">
                <option value="book" selected>ప్రస్తుత పుస్తకంలో</option>
                <option value="ot">పాత నిబంధన (OT)</option>
                <option value="nt">కొత్త నిబంధన (NT)</option>
                <option value="all">బైబిల్ మొత్తం</option>
            </select>
        </div>
        <div class="search-group">
            <label>ఏ పదం వెతకాలి?</label>
            <input type="text" id="search-input" placeholder="ఉదా: దేవుడు...">
        </div>
        <button class="primary-btn" onclick="executeSearch()">వెతకండి</button>
    </div>
</div>

<div class="search-modal" id="highlight-modal">
    <div class="search-modal-content">
        <div class="modal-header">
            <h2>రంగు ఎంచుకోండి</h2>
            <button class="close-btn" onclick="closeHighlightPalette()"><span class="material-icons-outlined">close</span></button>
        </div>
        <div class="color-options">
            <button class="color-btn" style="background: #fef08a;" onclick="applyHighlight('#fef08a')"></button>
            <button class="color-btn" style="background: #bbf7d0;" onclick="applyHighlight('#bbf7d0')"></button>
            <button class="color-btn" style="background: #bfdbfe;" onclick="applyHighlight('#bfdbfe')"></button>
            <button class="color-btn" style="background: #fbcfe8;" onclick="applyHighlight('#fbcfe8')"></button>
            <button class="color-btn" style="background: transparent; border: 2px solid #ccc; font-weight: bold; color: var(--text);" onclick="applyHighlight('none')">✖</button>
        </div>
    </div>
</div>

<div class="search-modal" id="note-modal">
    <div class="search-modal-content">
        <div class="modal-header">
            <h2>స్టడీ నోట్</h2>
            <button class="close-btn" onclick="closeNoteModal()"><span class="material-icons-outlined">close</span></button>
        </div>
        <p id="note-verse-ref" style="color: var(--accent); font-weight: bold; margin-bottom: 10px;"></p>
        <textarea id="note-text" rows="5" placeholder="మీ స్టడీ నోట్స్ ఇక్కడ వ్రాయండి..."></textarea>
        <div style="display: flex; gap: 10px; margin-top: 15px;">
            <button class="primary-btn" style="flex: 1;" onclick="saveNote()">సేవ్ చేయండి</button>
            <button class="secondary-btn" style="flex: 1;" onclick="closeNoteModal()">క్యాన్సిల్</button>
        </div>
    </div>
</div>

<main id="main-content">
    
    <div id="home-view" class="view-container">
        <div class="daily-verse-card">
            <h3><span class="material-icons-outlined" style="vertical-align: bottom;">auto_stories</span> నేటి వాక్యము</h3>
            <p>"దేవుడు లోకమును ఎంతో ప్రేమించెను. కాగా ఆయన తన అద్వితీయకుమారునిగా పుట్టిన వానియందు విశ్వాసముంచు ప్రతివాడును నశింపక నిత్యజీవము పొందునట్లు ఆయనను అనుగ్రహించెను."</p>
            <span class="verse-ref">- యోహాను 3:16</span>
        </div>

        <div class="home-grid">
            <div class="grid-item" onclick="openSection('ot')">
                <div class="icon"><span class="material-icons-outlined">menu_book</span></div>
                <h4>పాత నిబంధన</h4>
            </div>
            <div class="grid-item" onclick="openSection('nt')">
                <div class="icon"><span class="material-icons-outlined">import_contacts</span></div>
                <h4>కొత్త నిబంధన</h4>
            </div>
            <div class="grid-item" onclick="showBookmarksView()">
                <div class="icon"><span class="material-icons-outlined">bookmarks</span></div>
                <h4>బుక్‌మార్క్స్</h4>
            </div>
            <div class="grid-item" onclick="showNotesView()">
                <div class="icon"><span class="material-icons-outlined">edit_note</span></div>
                <h4>నా నోట్స్</h4>
            </div>
            <div class="grid-item" onclick="showHistoryView()">
                <div class="icon"><span class="material-icons-outlined">history</span></div>
                <h4>చరిత్ర</h4>
            </div>
            <div class="grid-item" onclick="showAboutView()">
                <div class="icon"><span class="material-icons-outlined">info</span></div>
                <h4>మా గురించి</h4>
            </div>
        </div>
    </div>

    <div id="chapters-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title" id="chapters-book-title">Loading...</h2>
        </div>
        <div class="chapter-grid" id="chapter-grid-container"></div>
    </div>

    <div id="reading-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title" id="reading-book-title">Loading...</h2>
        </div>
        <div class="chapters-scroll" id="quick-chapters-list"></div>
        <div id="verses-container"></div>
    </div>

    <div id="bookmarks-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title"><span class="material-icons-outlined">bookmarks</span> మీ బుక్‌మార్క్స్</h2>
        </div>
        <div id="bookmarks-container"></div>
    </div>

    <div id="notes-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title"><span class="material-icons-outlined">edit_note</span> నా నోట్స్</h2>
        </div>
        
        <button class="primary-btn" onclick="createNewNote()" style="margin-bottom: 20px; display: flex; justify-content: center; align-items: center; gap: 8px;">
            <span class="material-icons">add</span> క్రొత్త నోట్ (Create New)
        </button>
        
        <div id="notes-list-container"></div>
    </div>

    <div id="note-editor-view" class="view-container" style="display: none; padding-top: 10px;">
        <div class="page-header" style="justify-content: space-between; border-bottom: none; margin-bottom: 10px;">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> డన్</button>
            <div style="display: flex; gap: 10px;">
                <button class="icon-btn" onclick="shareCurrentNote()" style="color: var(--primary); background: var(--card); padding: 8px 12px; border-radius: 5px; border: 1px solid var(--border); box-shadow: 0 2px 5px rgba(0,0,0,0.1);"><span class="material-icons-outlined">share</span> షేర్</button>
                <button class="icon-btn" onclick="deleteCurrentNote()" style="color: #e74c3c; background: var(--card); padding: 8px 12px; border-radius: 5px; border: 1px solid var(--border); box-shadow: 0 2px 5px rgba(0,0,0,0.1);"><span class="material-icons-outlined">delete</span></button>
            </div>
        </div>
        <div class="note-editor-wrapper">
            <p id="note-save-status" style="font-size: 12px; color: gray; text-align: right; margin: 0 0 5px 0;">ఆటో-సేవ్ అవుతోంది...</p>
            <input type="text" id="note-title-input" class="note-heading-input" placeholder="హెడ్డింగ్ (Title)..." oninput="autoSaveNote()">
            <textarea id="note-content-input" class="note-body-textarea" placeholder="మీ నోట్స్ ఇక్కడ వ్రాయండి..." oninput="autoSaveNote()"></textarea>
        </div>
    </div>

    <div id="history-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title"><span class="material-icons-outlined">history</span> ఇటీవల చదివినవి</h2>
        </div>
        <div id="history-container"></div>
    </div>

    <div id="about-view" class="view-container" style="display: none;">
        <div class="page-header">
            <button class="back-btn" onclick="goBack()"><span class="material-icons-outlined">arrow_back</span> వెనక్కి</button>
            <h2 class="book-title"><span class="material-icons-outlined">info</span> మా గురించి</h2>
        </div>
        
        <div class="about-card">
            <h2 style="margin-bottom: 5px; font-size: 30px;">WORLD OF GOD</h2>
            <p style="color: var(--accent); font-weight: bold; margin-bottom: 25px;">Founder: Rajesh Karatapu</p>
            
            <div class="about-text-content">
                <p>దేవుని వాక్యం.. మన రక్షణకు, శిక్షణకు పరలోకపు తండ్రి వ్రాయించిన తన మనసులోని మాటలు.</p>
                <p>సామాజిక మాధ్యమాల ద్వారా దేవుని వాక్యం అందరికీ చాలా దగ్గరైంది కానీ.. సత్యమైనది దూరముగాను, లోతుగాను ఉన్నదని.. దానిని పరిశీలిస్తేనే బోధపడుతుందని వాక్యం సెలవిచ్చింది.</p>
                <p>వాక్యాన్ని వక్రీకరించి సత్యాన్ని అందకుండా చేయాలన్న అపవాది కుయుక్తులను అధిగమిస్తూ.. మా వంతు ప్రయత్నంగా <strong>WORLD OF GOD</strong> యూట్యూబ్ ఛానల్, వాట్సాప్ గ్రూప్ ద్వారా దేవుని వాక్యాన్ని సరిగా విభజిస్తూ.. దేవుని దయవలన మా చిన్న పరిచర్యను జరిగిస్తున్నాము..</p>
                
                <h3 class="about-tagline">
                    వాక్యాన్ని నేర్చుకుందాం..! అందరికీ అందచేద్దాం..!!
                </h3>
            </div>
            
            <div style="margin-top: 30px; display: flex; flex-direction: column; gap: 15px;">
                <a href="https://youtube.com/@worldofgod_telugu?si=86j4uaQMH7gB7S7S" target="_blank" class="social-btn outline-yt">
                    <span class="material-icons">play_circle_filled</span> YouTube లో చూడండి
                </a>
                <a href="https://chat.whatsapp.com/DMAtEr4enJ5IoxA0c8Loag?mode=gi_t" target="_blank" class="social-btn outline-wa">
                    <span class="material-icons">chat</span> WhatsApp లో చేరండి
                </a>
                <a href="https://www.instagram.com/world._of_god?igsh=cW1obW9sNGVmMHg4" target="_blank" class="social-btn outline-ig">
                    <span class="material-icons">photo_camera</span> Instagram లో ఫాలో అవ్వండి
                </a>
            </div>
        </div>
    </div>

</main>

<div id="selection-action-bar" style="display: none;">
    <div class="action-buttons">
        <button onclick="shareSelectedVerses()"><span class="material-icons">share</span> షేర్</button>
        <button onclick="openHighlightPalette()"><span class="material-icons">border_color</span> రంగు</button>
        <button onclick="openNoteEditorForVerse()"><span class="material-icons">edit_note</span> నోట్</button>
        <button onclick="clearVerseSelection()"><span class="material-icons">close</span></button>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
